# storybook-react-omit

Small utility that allows you to omit code from the source generated by [@storybook/addon-info](https://github.com/storybooks/storybook/tree/next/addons/info).
Check the [live examples](https://renanpvaz.github.io/storybook-react-omit).

```bash
yarn add storybook-react-omit
```

## Usage

Pass its parameters to storybook after adding the info addon.

_(it prevents addon-info from showing the prop types of the `<Omitted />` component)_

```js
// .storybook/config.js

import { configure, addDecorator, addParameters } from '@storybook/react'
import { withInfo } from '@storybook/addon-info'
import { withOmission } from 'storybook-react-omit'

addDecorator(
  withInfo({
    header: false,
    inline: true,
    propTablesExclude: withOmission([]), // ← add this line
  }),
)
```

Then call `omit` passing any valid JSX

```js
import omit from 'storybook-react-omit'

// ...

.add('My story', () => (
  <MyComponent>
    This will be shown in the source
    {omit(
      <script>
        {`
            while(true) alert("but this won't")
        `}
      </script>
    )}
  </MyComponent>
))
```

## Changing the `displayName`

By default omissions will be shown as `<.../>` because the component's `displayName` is `...`, but you can use `setDisplayName` to change it:

```js
// .storybook/config.js

import { withOmission, setDisplayName } from 'storybook-react-omit'

// ...

setDisplayName('source omitted') // <source omitted/>
```
